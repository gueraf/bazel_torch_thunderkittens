load("@rules_cc//cc:defs.bzl", "cc_library")

package(default_visibility = ["//visibility:public"])

# ZLUDA shared library target
cc_library(
    name = "libcuda",
    srcs = ["libcuda.so.1"],
    visibility = ["//visibility:public"],
)

# Alternative name for compatibility
cc_library(
    name = "cuda",
    srcs = ["libcuda.so.1"],
    visibility = ["//visibility:public"],
)

# All available ZLUDA libraries
cc_library(
    name = "libnvidia-ml",
    srcs = ["libnvidia-ml.so.1"],
    visibility = ["//visibility:public"],
)

cc_library(
    name = "libnvml",
    srcs = ["libnvml.so"],
    visibility = ["//visibility:public"],
)

cc_library(
    name = "libnvcuda",
    srcs = ["libnvcuda.so"],
    visibility = ["//visibility:public"],
)

# All ZLUDA files for reference
filegroup(
    name = "all_files",
    srcs = glob(["**/*"]),
    visibility = ["//visibility:public"],
)
